<!DOCTYPE html><html class="html-loading"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>Spring Cloud | Howard-Blogs</title><meta name="author" content="Howard Yin"><meta name="keywords" content><meta name="description" content><link rel="shortcut icon" href="/img/favicon.ico"><link rel="stylesheet" href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><link rel="stylesheet" href="/css/Annie.css"><script src="/js/jquery.min.js"></script><script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script><script src="/js/leancloud.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0/katex.min.css"></head><body><div id="preloader"><div class="pre-container"><div class="spinner"><div class="double-bounce1"></div><div class="double-bounce2"></div></div></div></div><header class="fixbackground" data-img-mode="normal" data-normal-src="/img/1.jpg" data-random-max="110" data-random-src="https://sariay.github.io/Random-img/"><div class="mask"><div class="h-header"><div id="logo"><a href="/"><img src="/img/logo.png" alt="Logo"></a></div><div id="navigation-show"><ul><li class="menu-home"><a href="/" class="menu-item-home">主页</a></li><li class="menu-archive"><a href="/archives" class="menu-item-archive">归档</a></li><li class="menu-categories"><a href="/categories" class="menu-item-categories">分类</a></li><li class="menu-tags"><a href="/tags" class="menu-item-tags">标签</a></li><li class="menu-about"><a href="/about" class="menu-item-about">关于</a></li><li class="menu-gallery"><a href="/gallery" class="menu-item-gallery">相册</a></li></ul></div></div><div class="h-body"><p class="motto"></p></div><div class="h-footer"><a href="javascript:;" id="read-more"><i class="fa fa-angle-double-down" aria-hidden="true"></i></a><style type="text/css">.header-date{font-size:1.6rem;color:#fff;position:absolute;bottom:5px;right:1rem;writing-mode:tb-rl}.header-date a{border-bottom:none}@media only screen and (max-width:768){.header-date{font-size:1rem}}</style><div class="header-date"><a href="https://time.is/Beijing" id="time_is_link" rel="nofollow"></a> <span id="Beijing_z43d"></span></div><script src="//widget.time.is/zh.js"></script><script>time_is_widget.init({Beijing_z43d:{template:"DATE",date_format:"year年 monthnum月 dnum日"}})</script></div></div></header><div id="navigation-hide"><div id="progress-bar"></div><div id="progress-percentage"><h1>0.0%</h1></div><div class="toc-switch"><span class="switch-button">目录</span></div><p>当前文章&nbsp;:&nbsp;《Spring Cloud》</p><a class="nav-trigger"><span></span></a></div><nav class="nav-container" id="cd-nav"><div class="nav-header"><h3>Navigation</h3><a href="javascript:;" class="nav-close"></a></div><div class="nav-body"><ul><li class="menu-home"><a href="/" class="menu-item-home">主页</a></li><li class="menu-archive"><a href="/archives" class="menu-item-archive">归档</a></li><li class="menu-categories"><a href="/categories" class="menu-item-categories">分类</a></li><li class="menu-tags"><a href="/tags" class="menu-item-tags">标签</a></li><li class="menu-about"><a href="/about" class="menu-item-about">关于</a></li><li class="menu-gallery"><a href="/gallery" class="menu-item-gallery">相册</a></li></ul></div><div class="nav-footer"><ul><li><a href="http://github.com/yindaheng98" target="_blank"><i class="fa fa-github"></i></a></li><li><a href="http://github.com/yindaheng98" target="_blank"><i class="fa fa-weibo"></i></a></li><li><a href="http://github.com/yindaheng98" target="_blank"><i class="fa fa-pinterest"></i></a></li><li><a href="http://github.com/yindaheng98" target="_blank"><i class="fa fa-instagram"></i></a></li><li><a href="http://github.com/yindaheng98" target="_blank"><i class="fa fa-twitter"></i></a></li><li><a href="/atom.xml" target="_blank"><i class="fa fa-rss"></i></a></li></ul></div></nav><main><div class="layout-toc"><div id="layout-toc"><div class="k-catelog-list" id="catelog-list" data-title="文章目录"></div></div></div><script src="/plugin/toc/katelog.min.js"></script><div class="layout-post"><div id="layout-post"><div class="article-title"><i class="fa fa-paper-plane-o" aria-hidden="true"></i> <a href="/编程语言/Java/SpringCloud.html" itemprop="url">Spring Cloud</a></div><div class="article-meta"><span><i class="fa fa-calendar"></i> 发布于 <a href="/编程语言/Java/SpringCloud.html" itemprop="url"><time datetime="2019-11-13T08:55:07.000Z" itemprop="datePublished">2019-11-13 </time></a>&nbsp; 更新于 <a href="/编程语言/Java/SpringCloud.html" itemprop="url"><time datetime="2019-11-13T08:55:07.000Z" itemprop="dateUpdated">2020-06-24</time></a> </span><span><i class="fa fa-tags"></i> <a href="/tags/Java/">Java </a><a href="/tags/Spring/">Spring</a></span></div><div class="article-content" id="article-content"><p><a href="https://www.jianshu.com/p/196a7598b30c" target="_blank" rel="noopener">教程参考</a></p><p><a href="https://mp.weixin.qq.com/s/ZH-3JK90mhnJPfdsYH2yDA" target="_blank" rel="noopener">教程参考</a></p><p>本文中我们主要介绍微服务开发框架——Spring Cloud。尽管Spring Cloud带有&quot;Cloud&quot;的字样，但它并不是云计算解决方案，而是Spring Boot的基础上构建的，<strong>用于快速构建分布式系统的通用模式的工具集</strong>。</p><h2 id="spring-cloud特点"><a class="markdownIt-Anchor" href="#spring-cloud特点"></a> Spring Cloud特点</h2><ul><li>约定优于配置；</li><li>适用于各种环境。开发、部署PC Server或各种云环境（例如阿里云、AWS等）均可；</li><li>隐藏了组件的复杂性，并提供声明式、无xml的配置方式；</li><li>开箱即用，快速启动；</li><li>轻量级的组件。Spring Cloud整合的组件大多比较轻量。例如Eureka、Zuul等，都是各自领域轻量级的实现；</li><li>组件丰富，功能齐全。Spring Cloud 为微服务架构提供了非常完整的支持。例如、配置管理、服务发现、断路器、微服务网关等；</li><li>选型中立、丰富。例如，Spring Cloud支持使用Eureka、Zookeeper或Consul实现服务发现；</li><li>灵活。Spring Cloud的组成部分是解耦的，开发人员可以按需灵活挑选技术选型。</li></ul><h2 id="spring-cloud组件"><a class="markdownIt-Anchor" href="#spring-cloud组件"></a> Spring Cloud组件</h2><p>以一个支付应用为例讲解Spring Cloud组件各自作用和互相协作的过程。</p><p><img src="i/SpringCloud1.webp" alt="支付应用"></p><h3 id="netflix-eureka-服务发现"><a class="markdownIt-Anchor" href="#netflix-eureka-服务发现"></a> Netflix Eureka 服务发现</h3><p><img src="i/Euraka.png" alt="Eureka组件"></p><p>对单体应用进行服务拆分得到各个微服务，而这些服务又是相互独立的，那么我们<strong>如何知道各个微服务的健康状态、如何知道某个微服务的存在呢</strong>？这就是Eureka的任务。</p><ul><li>Euraka体系由两个组件组成：<ul><li>Eureka Client即为微服务节点，启动前要向其指定Eureka Server所在地址，以便在启动时向Eureka Server发送服务注册和心跳信息</li><li>Eureka Server提供服务注册服务，各个节点启动后，会在Eureka Server中进行注册，这样Eureka Server中的服务注册表中将会存储所有可用服务节点的信息，服务节点的信息可以在界面中直观的看到</li></ul></li><li>Eureka Client启动后，将会注册到Eureka Server中，同时会定时发送心跳（默认无配置情况下为30s），如果Eureka Server在多个心跳周期内没有接收到某个节点的心跳，那么Eureka Server将会从服务注册表中把这个节点移除(默认90s)</li></ul><p>当微服务系统加入了Eureka后，情况变成了这样：</p><p><img src="i/Euraka.webp" alt="Eureka组件"></p><ul><li>库存服务、仓储服务、积分服务中都有一个 Eureka Client 组件，这个组件专门负责将这个服务的信息注册到 Eureka Server 中</li><li>Eureka Server 是一个注册中心，里面有一个注册表，保存了各服务所在的机器和端口号</li><li>当订单服务想要调用库存/仓储/积分服务时，就去向Eureka Server询问各服务的对应地址</li><li>然后就可以发起请求调用服务了</li></ul><h3 id="netflix-feign-声明式-模板化http客户端"><a class="markdownIt-Anchor" href="#netflix-feign-声明式-模板化http客户端"></a> Netflix Feign 声明式、模板化HTTP客户端</h3><p><img src="i/Feign.png" alt="Feign组件"></p><p>知道了微服务的所在位置就可以发起请求调用微服务，但是显然，直接用Http Request请求微服务的代码会很冗长，这时就要Feign发挥作用了。</p><ul><li>首先，对某个接口定义 @FeignClient 注解，Feign 就会针对这个接口创建一个动态代理</li><li>调用那个接口，就会调用 Feign 创建的动态代理。动态代理会根据你在接口上的 @RequestMapping 等注解，来动态构造出你要请求的服务的地址</li><li>最后针对这个地址，发起请求、解析响应。</li></ul><p>加入了Feign，从Eureka中获取服务地址后的请求过程会变成这样：</p><p><img src="i/Feign.webp" alt="Feign组件"></p><h3 id="netflix-ribbon-客户端负载均衡"><a class="markdownIt-Anchor" href="#netflix-ribbon-客户端负载均衡"></a> Netflix Ribbon 客户端负载均衡</h3><p><img src="i/Ribbon.png" alt="Ribbon组件"></p><p>通过使用Eureka已经实现了微服务的注册与发现。启动各个微服务时，Eureka Client会把自己的网络信息注册到Eureka Server上。然而，这样的架构依然有一些问题，如负载均衡。一般来说，各个微服务都会部署多个实例。那么服务消费者要<strong>如何将请求分摊到多个服务提供实例上呢</strong>？这就是Ribbon的任务</p><ul><li>当为Ribbon配置服务提供者地址列表后，Ribbon就可以基于某种负载均衡算法，自动地帮助服务消费者去请求</li><li>Ribbon提供的负载均衡算法有多种，例如轮询、加权响应时间、随机和区域感知轮询</li><li>Ribbon与Eureka配合使用时，Ribbon可自动从Eureka Server获取服务提供者地址列表，并基于负载均衡算法，请求其中一个服务提供者示例</li></ul><p>当在Eureka注册中心加入Ribbon组件之后，一个服务就可以运行多个副本了，Eureka Client每次对同一个服务查询得到的地址可能会不同，Eureka Server会根据算法返回不同地址的服务：</p><p><img src="i/Ribbon.webp" alt="Ribbon组件"></p><h3 id="netflix-hystrix-断路器"><a class="markdownIt-Anchor" href="#netflix-hystrix-断路器"></a> Netflix Hystrix 断路器</h3><h4 id="级联故障"><a class="markdownIt-Anchor" href="#级联故障"></a> 级联故障</h4><p>级联故障是微服务系统在实际应用中常见的问题。在微服务架构里，一个系统会有很多的服务，其中难免会有服务间的互相依赖。比如，在本文的应用场景下，订单服务在一个业务流程里需要调用库存/仓储/积分三个服务，并且为保证数据完整性，三个服务是要顺序依次调用：一个订单到达时，要先扣库存，再通知发货，再修改积分。</p><p>这时，如果积分服务挂了，在订单服务中请求积分服务的线程就会全部卡住，尽管积分服务是最后一个请求的服务，而且还对核心业务没有多大影响（在此场景中，库存和仓储才是业务的核心），过多的阻塞进程还是会导致订单服务宕机。一个服务的宕机导致与其相关的其他服务宕机，这就是级联故障。</p><p><img src="i/Hystrix1.webp" alt="Hystrix"></p><h4 id="解决方法"><a class="markdownIt-Anchor" href="#解决方法"></a> 解决方法</h4><p>既然积分服务对主要业务影响不大，那为什么一定要请求成功呢？支付订单的时候，只要把库存扣减了，然后通知仓库发货就OK了，大不了等积分服务恢复之后，慢慢人肉手工恢复数据就好，当业务发生错误的时候，我们应<strong>优先保证核心业务的稳定性</strong>，适当牺牲附加业务。</p><p>这就是Hystrix发挥作用的地方。</p><p>对于一些非核心的附加业务上加上Hystrix组件，当这个<strong>业务出故障导致一段时间内有超过某一阈值的请求无法返回或返回错误</strong>时，“熔断”将会发生，“熔断”的业务将会被“降级”，这时，<strong>所有向此服务发送的请求都不会真正到达服务中，而是会被直接记录在数据库或log文件中，以备日后手工恢复</strong>。如图：</p><p><img src="i/Hystrix.webp" alt="Hystrix"></p><p>这样，虽然出错的业务没有被修复，但是其错误也不会对其他业务产生影响了。</p><ul><li>正常情况下，断路器关闭，可以正常请求依赖的服务；</li><li>当一段时间内，请求失败率达到一定阈值（例如错误率达到50%，或100次/分钟等），断路器就会打开，此时，就不会再去请求依赖的服务；</li><li>断路器打开一段时间后，会自动进入&quot;半开&quot;状态。此时，断路器允许一个请求访问依赖的服务。如果请求能够调用成功，则关闭断路器；否则继续保持打开状态。</li></ul><h3 id="netflix-zuul-服务网关"><a class="markdownIt-Anchor" href="#netflix-zuul-服务网关"></a> Netflix Zuul 服务网关</h3><p><img src="i/Zuul.png" alt="Zuul"></p><p>Zuul作为微服务架构中的微服务网关。微服务架构经过前几个组件的组合，已经有了基本的雏形了，那么我们为什么还要使用微服务网关呢？我们可以想象，一般情况下我们一个业务并不是只调用一个接口就可以完成一个业务需求。而如果让客户端直接与各个微服务通信，会有以下问题：</p><ul><li>客户端会多次请求不同的微服务，增加了客户端的复杂性</li><li>存在跨域请求，在一定场景下处理相对复杂</li><li>认证复杂，每个服务都需要独立认证</li><li>难以重构，随着项目的迭代，可能需要重新划分微服务，如果直接与微服务通信，那么重构会很难实施</li></ul><p>Zuul就是用于集中处理前端请求，向前端应用隐藏后端实现，简化开发。加入网关后的微服务就会变成这样：</p><p><img src="i/Zuul.webp" alt="Zuul"></p><p>像Android、iOS、PC前端、微信小程序、H5等等，不用去关心后端有几百个服务，就知道有一个网关，所有请求都往网关走，网关会根据请求中的一些特征，将请求转发给后端的各个服务。</p><h3 id="spring-cloud-config-分布式配置"><a class="markdownIt-Anchor" href="#spring-cloud-config-分布式配置"></a> Spring Cloud Config 分布式配置</h3><p><img src="i/Config.png" alt="Config"></p><p>分布式配置就比较好理解了。对于传统的单体应用，常常使用配置文件管理所有配置，而在微服务架构中，微服务的配置管理一般有以下需求：</p><ul><li>集中管理配置：一个使用微服务架构的应用系统可能会包含成百上千个微服务，因此，集中管理配置是很有必要的</li><li>不同环境不同配置。例如，数据源配置在不同的环境(开发、测试、预发布、生产等)中是不同的</li><li>运行期间可动态调整：例如，可根据各个微服务的负载情况，动态调整数据源连接池的大小或熔断阈值，并且在调整配置时不停止微服务</li><li>配置修改后可自动更新：如配置内容发生变化，微服务能够自动更新配置</li></ul><p>集中管理和分发配置文件，这基本上就是Spring Cloud Config的功能。</p></div><div id="current-post-cover" data-scr="/编程语言/Java/i/SpringCloud1.webp"></div><div class="investment-container"><div class="investment-header"><div class="investment-title-1"><div class="on">相关文章</div><div>评论</div><div>分享</div></div><div class="investment-title-2"><span><a href="javascript: window.scrollTo(0, 0);">返回顶部</a> <a href="/编程语言/Java/Spring原理.html" title="Spring原理" rel="prev">&laquo;上一篇 </a><a href="/编程语言/Java/SpringTips.html" title="(持续更新)Spring使用笔记" rel="next">下一篇&raquo;</a></span></div></div><div class="investment-content"><div class="investment-content-list"><div class="relate-post"><ul><li><div class="relate-post-text"><a class="relate-post-title" href="/编程语言/Tex/Tex历史.html" title="TEX历史">TEX历史</a><p class="relate-post-date"><i class="fa fa-calendar"></i> 六月 24日, 2020</p><p class="relate-post-content">参考资料参考资料 起源Knuth 最早是在一台 DEC PDP-11 上用一种叫做 SAIL 的语言编写的 TeX，尔后他和一些合作者，开始在 Stanford 大学实验一种叫做 literate programming (文学编程)...</p></div><div class="relate-post-cover"><a href="/编程语言/Tex/Tex历史.html" title="TEX历史"><img class="lazy" src="/img/placeholder.jpg" data-src="/img/cart_cover.jpg" alt="TEX历史"></a></div></li><li><div class="relate-post-text"><a class="relate-post-title" href="/编程语言/Go/go的反射.html" title="(未完成)go的反射">(未完成)go的反射</a><p class="relate-post-date"><i class="fa fa-calendar"></i> 四月 7日, 2020</p><p class="relate-post-content">go的反射模型在Golang实现的反射中，interface{}变量可以看作一个“pair”，“pair”中记录了实际变量的值和类型：(value, type)，value记录了变量的值，type记录了变量的类型。这个“pair”在...</p></div><div class="relate-post-cover"><a href="/编程语言/Go/go的反射.html" title="(未完成)go的反射"><img class="lazy" src="/img/placeholder.jpg" data-src="/img/cart_cover.jpg" alt="(未完成)go的反射"></a></div></li><li><div class="relate-post-text"><a class="relate-post-title" href="/编程语言/Tex/LaTeX基础.html" title="LaTeX基础">LaTeX基础</a><p class="relate-post-date"><i class="fa fa-calendar"></i> 四月 2日, 2020</p><p class="relate-post-content">参考资料：LaTeX vs. MiKTeX: The levels of TeXdoc 、ltxdoc 与 docstrip The levels of TeX —— TeX系统的层次结构发行版：TeX Live、MiKTeX、CTe...</p></div><div class="relate-post-cover"><a href="/编程语言/Tex/LaTeX基础.html" title="LaTeX基础"><img class="lazy" src="/img/placeholder.jpg" data-src="/img/cart_cover.jpg" alt="LaTeX基础"></a></div></li><li><div class="relate-post-text"><a class="relate-post-title" href="/编程语言/Tex/文学编程.html" title="文学编程（Literate Programming）">文学编程（Literate Programming）</a><p class="relate-post-date"><i class="fa fa-calendar"></i> 四月 1日, 2020</p><p class="relate-post-content">正如 Donald Ervin Knuth 所构想的那样，文学编程范型不同于传统的由计算机强加的编写程序的方式和顺序，而代之以让程序员用他们自己思维内在的逻辑和流程所要求的顺序开发程序。——维基百科graph LR foo.w...</p></div><div class="relate-post-cover"><a href="/编程语言/Tex/文学编程.html" title="文学编程（Literate Programming）"><img class="lazy" src="/img/placeholder.jpg" data-src="/img/cart_cover.jpg" alt="文学编程（Literate Programming）"></a></div></li><li><div class="relate-post-text"><a class="relate-post-title" href="/编程语言/Tex/TeX基础.html" title="TEX基础">TEX基础</a><p class="relate-post-date"><i class="fa fa-calendar"></i> 四月 1日, 2020</p><p class="relate-post-content">TEX命令行的使用首先，第一步当然是打开TEX命令行，如果安装了TEX：1$ tex然后会显示：12This is TeX, Version 3.14159265 (TeX Live 2019/W32TeX) (preloaded ...</p></div><div class="relate-post-cover"><a href="/编程语言/Tex/TeX基础.html" title="TEX基础"><img class="lazy" src="/img/placeholder.jpg" data-src="/编程语言/Tex/i/TeXif1.png" alt="TEX基础"></a></div></li><li><div class="relate-post-text"><a class="relate-post-title" href="/编程语言/Tex/TeX公式Tips.html" title="TEX公式知识点拾遗">TEX公式知识点拾遗</a><p class="relate-post-date"><i class="fa fa-calendar"></i> 四月 1日, 2020</p><p class="relate-post-content">\left和\rightTEX 有一个内置的机制, 能确定要封装住给定公式所需要的这对分界符的高度; 因此, 你可以使用这 种方法, 而不用自己在\big，\bigg或其它中筛选。所要做的只是：1\left&lt;delim1&gt...</p></div><div class="relate-post-cover"><a href="/编程语言/Tex/TeX公式Tips.html" title="TEX公式知识点拾遗"><img class="lazy" src="/img/placeholder.jpg" data-src="/img/cart_cover.jpg" alt="TEX公式知识点拾遗"></a></div></li><li><div class="relate-post-text"><a class="relate-post-title" href="/编程语言/Node/nodejs-promise.html" title="nodejs中的Promise对象">nodejs中的Promise对象</a><p class="relate-post-date"><i class="fa fa-calendar"></i> 十二月 9日, 2019</p><p class="relate-post-content">Promise是一种有三个状态的对象（“执行中pending”、“完成resolve”、“失败reject”），构造Promise对象时的构造函数参数是一个有两个参数的函数，这个函数的两个参数分别对应着Promise对象到达两个终点状...</p></div><div class="relate-post-cover"><a href="/编程语言/Node/nodejs-promise.html" title="nodejs中的Promise对象"><img class="lazy" src="/img/placeholder.jpg" data-src="/编程语言/Node/i/nodejs_4.png" alt="nodejs中的Promise对象"></a></div></li><li><div class="relate-post-text"><a class="relate-post-title" href="/编程语言/Node/nodejs-feature.html" title="nodejs重要特性">nodejs重要特性</a><p class="relate-post-date"><i class="fa fa-calendar"></i> 十二月 6日, 2019</p><p class="relate-post-content">回调函数如果看见某个函数定义长下面这样👇那它就应该是个带回调的函数。这类的函数一般为js内置，在调用的时候都是作为一个新线程运行的。1function some_function(param1,param2,callback)&#...</p></div><div class="relate-post-cover"><a href="/编程语言/Node/nodejs-feature.html" title="nodejs重要特性"><img class="lazy" src="/img/placeholder.jpg" data-src="/编程语言/Node/i/nodejs_1.jpg" alt="nodejs重要特性"></a></div></li><li><div class="relate-post-text"><a class="relate-post-title" href="/编程语言/Shell/Shell-tips.html" title="Shell拾遗">Shell拾遗</a><p class="relate-post-date"><i class="fa fa-calendar"></i> 十二月 3日, 2019</p><p class="relate-post-content">getopts和getopt这两个都是用来解析脚本运行时的命令行参数的。 getopts只能处理短选项，无法处理长选项，暂不介绍 getopt可以同时处理短选项和长选项。getopt命令不是一个标准的unix命令，但它在大多数Lin...</p></div><div class="relate-post-cover"><a href="/编程语言/Shell/Shell-tips.html" title="Shell拾遗"><img class="lazy" src="/img/placeholder.jpg" data-src="/img/cart_cover.jpg" alt="Shell拾遗"></a></div></li><li><div class="relate-post-text"><a class="relate-post-title" href="/编程语言/Node/nodejs-tips.html" title="nodejs补充知识">nodejs补充知识</a><p class="relate-post-date"><i class="fa fa-calendar"></i> 十一月 29日, 2019</p><p class="relate-post-content">在指定目录下运行npm 需求来源写了一个需要在本地保存文件的项目，想让这个项目能在任意位置保存文件，但是又不想单独为这一个功能单独搞配置文件，于是乎在代码里面用process.CWD()指定文件路径，使保存目录为程序实际运行的目录。...</p></div><div class="relate-post-cover"><a href="/编程语言/Node/nodejs-tips.html" title="nodejs补充知识"><img class="lazy" src="/img/placeholder.jpg" data-src="/img/cart_cover.jpg" alt="nodejs补充知识"></a></div></li></ul></div></div><div class="investment-content-list"><div class="layout-comment"><div>Please check the comment setting in config.yml of hexo-theme-Annie!</div></div></div><div class="investment-content-list"><div class="layout-share"><div class="social-share"></div><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/css/share.min.css"><script async src="https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/js/social-share.min.js"></script></div></div></div></div></div></div><script src="/plugin/clipboard/clipboard.js"></script><script>function codePreprocessing(){$("#article-content .highlight").each(function(){$(this).wrap('<div id="post-code"></div>')}),$("#article-content #post-code").each(function(){$(this).prepend('<nav class="copy-nav"><span><i class="code-language"></i></span></nav>')}),$("#article-content .copy-nav").each(function(){var t=$(this).next().attr("class"),e=9<t.length&&null!=t?t.substr(10):"none";$(this).find(".code-language").text(e),$(this).append('<span class="copy-btn"><i class="fa fa-copy" aria-hidden="true"></i></span>')})}function codeCopy(){$("#article-content #post-code").each(function(t){var e="codeCopy-"+t,n=$(this).find(".code"),o=$(this).find(".copy-btn");n.attr("id",e),o.attr("data-clipboard-target-id",e)});var t=new ClipboardJS(".copy-btn",{target:function(t){return document.getElementById(t.getAttribute("data-clipboard-target-id"))}});t.on("success",function(t){var e;t.clearSelection(),console.info("Action:",t.action),console.info("Trigger:",t.trigger),(e=t.trigger).setAttribute("aria-label","Copied!"),e.setAttribute("class","copy-btn copy-status"),setTimeout(function(){e.setAttribute("class","copy-btn")},2e3)}),t.on("error",function(t){console.error("Action:",t.action),console.error("Trigger:",t.trigger)})}$(".layout-post").length&&(codePreprocessing(),codeCopy())</script><link rel="stylesheet" href="/plugin/fancybox/jquery.fancybox.css"><script src="/plugin/fancybox/jquery.fancybox.js"></script><script type="text/javascript">var titleID=$(".article-title a"),imageID=$(".article-content img"),videoID=$(".article-content video"),postTitle=titleID.text()?titleID.text():"No post title!";imageID.each(function(){var t=$(this).attr("src"),a=$(this).attr("alt")?$(this).attr("alt"):"No image description!";$(this).wrap('<a data-fancybox="gallery" data-caption=" 《 '+postTitle+" 》 "+a+' "  href=" '+t+' "> </a>')}),videoID.each(function(){var t=$(this).attr("src");$(this).wrap('<a data-fancybox href=" '+t+' "> </a>')}),$("#layout-post").length&&$('[data-fancybox="gallery"]').fancybox({loop:!0,buttons:["zoom","share","slideShow","fullScreen","thumbs","close"],protect:!1})</script></main><footer><div class="social"><ul><li><a href="http://github.com/yindaheng98" target="_blank"><i class="fa fa-github"></i></a></li><li><a href="http://github.com/yindaheng98" target="_blank"><i class="fa fa-weibo"></i></a></li><li><a href="http://github.com/yindaheng98" target="_blank"><i class="fa fa-pinterest"></i></a></li><li><a href="http://github.com/yindaheng98" target="_blank"><i class="fa fa-instagram"></i></a></li><li><a href="http://github.com/yindaheng98" target="_blank"><i class="fa fa-twitter"></i></a></li><li><a href="/atom.xml" target="_blank"><i class="fa fa-rss"></i></a></li></ul></div><div class="copyright"><p>&copy;2017 - 2020, content by Howard Yin. All Rights Reserved.<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv">本文总阅读量<span id="busuanzi_value_page_pv"></span>次</span></p><p><a href="http://hexo.io/" title="Hexo" target="_blank" rel="noopener">Hexo</a> Theme <a href="https://github.com/Sariay/hexo-theme-Annie" title="Annie" target="_blank" rel="noopener">Annie</a> by Sariay. <a href="javascript:zh_tran('s');" class="zh_click" id="zh_click_s">简体</a> <a href="javascript:zh_tran('t');" class="zh_click" id="zh_click_t">繁體</a></p></div></footer><script src="/plugin/motto/motto.js"></script><script type="text/javascript">$(".motto").html(getMingYanContent())</script><div id="totop"><a href="javascript:;" name="TOTOP" class="fa fa-arrow-up"></a></div><script src="/plugin/vibrant/vibrant.js"></script><script src="/plugin/chinese/chinese.js"></script><script src="/plugin/imgLazyLoader/yall.min.js"></script><script src="/plugin/imgResize/jquery.resizeimagetoparent.min.js"></script><script src="/plugin/nicescroll/jquery.nicescroll.js"></script><script src="/js/resizediv.js"></script><script src="/js/main.js"></script><script src="https://unpkg.com/mermaid@7.1.2/dist/mermaid.min.js"></script><script>window.mermaid&&mermaid.initialize({theme:"forest"})</script></body></html>